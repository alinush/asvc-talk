\begin{frame}
    \frametitle{KZG Constant-sized Polynomial Commitments \cite{KZG10a}}

    \pause
    Fix $n$-SDH public parameters $\left(g^{\tau^i}\right)_{0\le i \le n}$ such that \alert{trapdoor} $\tau$ is unknown.\pause\\
    For any polynomial $\phi = \sum_{i=0}^n \phi_i X^i = \langle \phi_0, \phi_{1}, \dots, \phi_n \rangle$ of degree $\le n$:\pause
    \begin{align}
    \onslide<4->{c &= g^{\phi(\tau)}}\\
    \onslide<5->{  &= \left(g^{\tau^n}\right)^{\phi_n} \left(g^{\tau^{n-1}}\right)^{\phi_{n-1}} \dots (g^\tau)^{\phi_1} \left(g\right)^{\phi_0} }\\
    \onslide<6->{  &= g^{\phi_n \tau^n} g^{\phi_{n-1} \tau^{n-1}} \dots g^{\phi_1 \tau} g^{\phi_0}} \\
    \onslide<7->{  &= g^{\phi_n \tau^n+ \phi_{n-1} \tau^{n-1} + \dots + \phi_1 \tau + \phi_0}} \\
    \onslide<8->{  &= g^{\phi(\tau)}}
    \end{align}
    \pause[9]
    Can \alert{interpolate} polynomial from $n$ points $(x_i, \phi(x_i))_{i\in[n]}$ is $O(n\log^2{n})$ field operations.\pause\xspace
    %($O(n\log{n})$ if the $x_i$'s are \alert{roots of unity} $\{\omega^0, \omega^1,\dots,\omega^{n-1}\})$.\pause\xspace
    Time to commit is an $O(n)$-sized multi-exponentiation.
\end{frame}

% Lagrange interpolation and VCs from Lagrange basis polynomials
%  + Commitment updates
\begin{frame}
    \frametitle{VCs from Lagrange Basis Polynomials~\cite{CDHK15}}
    \pause
    Compute $\phi(X)$ s.t. $\phi(i)=v_i$:\pause\xspace
    \begin{align}
    \phi(X)=\sum_{i=0}^{n-1} v_i \cdot \lagr_i(X),\ \text{where}\ \lagr_i(X) = \prod_{\substack{j\in [0,n)\\j\ne i}}\frac{X-j}{i-j}
    \end{align}
    \pause
    Setup Lagrange basis polynomial commitments $\ell_i=g^{\lagr_i(\tau)},\forall i\in[0,n)$ (\myred{speed?})\pause. Then, commit to $\vect{v}$ as~\cite{CDHK15}:\pause\xspace
    \begin{align}
    \onslide<6->{c &= \prod_{i\in[0,n)} \ell_i^{v_i}}\\
    \onslide<7->{  &= g^{\sum_{i\in[0,n)} \lagr_i(\tau) v_i}}\\
    \onslide<8->{  &= g^{\phi(\tau)}}
    \end{align}
\end{frame}

\begin{frame}
    \frametitle{Updating the Digest}

    \pause
    Let $\phi'(X)$ be the updated polynomial after a change $\delta_i$ to $v_i$:\pause
    \begin{align}
    \phi'(X) &= \phi(X) + \delta_i \lagr_i(X)
    \end{align}
    \pause
    To update $c$ via $\vccommupdate(c, \delta_i, i, \upk_i)$:\pause
    \begin{align}
    \onslide<5->{c' &= c \cdot \ell_i^{\delta_i}}\\
    \onslide<6->{   &= g^{\phi(\tau)} \cdot g^{\delta_i \lagr_i(\tau)}}\\
    \onslide<7->{   &= g^{\phi'(\tau)}}
    \end{align}
    \pause[8]
    \textbf{Jon done:} Each $\upk_i$ must include $\ell_i$.
\end{frame}
